"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4135],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>f});var r=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=r.createContext({}),i=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=i(e.components);return r.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=i(a),m=o,f=c["".concat(p,".").concat(m)]||c[m]||d[m]||n;return a?r.createElement(f,s(s({ref:t},u),{},{components:a})):r.createElement(f,s({ref:t},u))}));function f(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,s=new Array(n);s[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:o,s[1]=l;for(var i=2;i<n;i++)s[i]=a[i];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},34198:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>c,frontMatter:()=>n,metadata:()=>l,toc:()=>i});var r=a(87462),o=(a(67294),a(3905));const n={},s="TELFATAUTO.PRW",l={unversionedId:"Fontes/telfatauto",id:"Fontes/telfatauto",title:"TELFATAUTO.PRW",description:"Faturamento autom\xe1tico",source:"@site/docs/2-Fontes/telfatauto.md",sourceDirName:"2-Fontes",slug:"/Fontes/telfatauto",permalink:"/docushark/docs/Fontes/telfatauto",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"SKALEPHPED.PRW",permalink:"/docushark/docs/Fontes/skalephped"},next:{title:"transporteBancosShark.py",permalink:"/docushark/docs/Fontes/transporteBancosShark"}},p={},i=[{value:"<strong>Dados da Customiza\xe7\xe3o</strong>",id:"dados-da-customiza\xe7\xe3o",level:3},{value:"<strong>Especifica\xe7\xe3o da Customiza\xe7\xe3o</strong>",id:"especifica\xe7\xe3o-da-customiza\xe7\xe3o",level:3},{value:"<strong>Especifica\xe7\xf5es das Fun\xe7\xf5es e Rotinas</strong>",id:"especifica\xe7\xf5es-das-fun\xe7\xf5es-e-rotinas",level:3},{value:"<strong>Par\xe2metros</strong>",id:"par\xe2metros",level:3}],u={toc:i};function c(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"telfatautoprw"},"TELFATAUTO.PRW"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Faturamento autom\xe1tico")),(0,o.kt)("h3",{id:"dados-da-customiza\xe7\xe3o"},(0,o.kt)("strong",{parentName:"h3"},"Dados da Customiza\xe7\xe3o")),(0,o.kt)("hr",null),(0,o.kt)("p",null,"Analista: Jonathan Torioni"),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"especifica\xe7\xe3o-da-customiza\xe7\xe3o"},(0,o.kt)("strong",{parentName:"h3"},"Especifica\xe7\xe3o da Customiza\xe7\xe3o")),(0,o.kt)("hr",null),(0,o.kt)("p",null,"Est\xe1 customiza\xe7\xe3o tem o objetivo de realizar o faturamento e transmiss\xe3o dos documentos."),(0,o.kt)("p",null,"Inicialmente est\xe1 customiza\xe7\xe3o foi desenvolvida para melhorar o antigo faturamento autom\xe1tico (transdanfe.prw)."),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"especifica\xe7\xf5es-das-fun\xe7\xf5es-e-rotinas"},(0,o.kt)("strong",{parentName:"h3"},"Especifica\xe7\xf5es das Fun\xe7\xf5es e Rotinas")),(0,o.kt)("hr",null),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"U_TELFATAUTO(nOpcA)")," - Fun\xe7\xe3o respons\xe1vel por orquestrar a montagem da tela de faturamento autom\xe1tico e iniciar as threads respons\xe1veis por faturar e transmitir."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"fBrwP(lAtuTela)")," - Fun\xe7\xe3o respons\xe1vel montar o grid dos pedidos. "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"fBrwN(lAtuTela)")," - Fun\xe7\xe3o respons\xe1vel montar o grid das notas."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Transmite(lMonta)")," - Fun\xe7\xe3o respons\xe1vel retornar dados do grid de notas e tamb\xe9m por transmitir as notas."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Fatura(lMonta)")," - Fun\xe7\xe3o respons\xe1vel retornar dados do grid dos pedidos e tamb\xe9m por faturar as notas"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"fChekbug(e,cFil,cPed,cArq)")," - Fun\xe7\xe3o respons\xe1vel tratamento de erros legados do transdanfe."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"fAtuTela()")," - Fun\xe7\xe3o orquestrar a atualiza\xe7\xe3o dos grids."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"fAtuMtr()")," - Fun\xe7\xe3o atualiar o objeto TMeter"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"U_SHSPEDTR(cSerie,cNotaIni,cNotaFim,lCTe,lRetorno,aNotas)")," - Rotina de remessa da Nota fiscal eletronica, Service SPED - utilizada em personalizacoes."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"IsReady(cURL,nTipo,lHelp,lUsaColab)")," - Rotina de verifica\xe7\xe3o se o TSS esta apto para transmiss\xf5es."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"U_SendTran(aParam,_cMod,_cOpcVer,_cUser)")," - Fun\xe7ao respons\xe1vel por orquestrar a abertura e fechamento da thread de transmissao de notas."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"U_SendFat(aParam,_cMod,_cOpcVer,_cUser)")," - Fun\xe7ao respons\xe1vel por orquestrar a abertura e fechamento da thread de faturamento dos pedidos."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"GetIdEnt(lUsaColab)")," - Fun\xe7ao responsavel por retornar o idEnt da empresa/filial no TSS."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Imprime(_cSem1Danf,_cModImp)")," - Impressao Automatica de Danfe - COPIA melhorada do transdanfe."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"XPERG()")," - Fun\xe7\xe3o de compatibilizacao."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"SpedDanfe()")," - Impressao da danfe de acordo com o setup inicial."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"RETLEG(cConteud, xAdic)")," - Fun\xe7\xe3o respons\xe1vel por retornar as diversas legendas no grid de notas."),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"par\xe2metros"},(0,o.kt)("strong",{parentName:"h3"},"Par\xe2metros")),(0,o.kt)("hr",null),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"ES_NEWFAT")," - Caso n\xe3o seja criado, assume o valor .T., garantindo que a nova rotina ser\xe1 executada ap\xf3s a implanta\xe7\xe3o. Caso seja preenchida com .F., todo o processo voltar\xe1 a ser executado como antes, por\xe9m com as melhorias de performance feitas nas querys relacionadas."))}c.isMDXComponent=!0}}]);